{"code": 0, "data": {"allow_search": true, "attention": false, "author_title": "树洞公告", "blocked": false, "blocked_count": null, "can_del": false, "comments": [{"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 285259, "create_time": 1657390401, "is_blocked": false, "is_tmp": false, "name_id": 1, "text": "牛逼", "timestamp": 1657390401}, {"author_title": "", "blocked": false, "blocked_count": null, "can_del": false, "cid": 285263, "create_time": 1657390770, "is_blocked": false, "is_tmp": false, "name_id": 2, "text": "牛逼！", "timestamp": 1657390770}, {"author_title": "树洞守夜人", "blocked": false, "blocked_count": null, "can_del": false, "cid": 285264, "create_time": 1657390858, "is_blocked": false, "is_tmp": false, "name_id": 3, "text": "牛逼！", "timestamp": 1657390858}], "create_time": 1657389451, "cw": null, "hot_score": null, "is_blocked": false, "is_reported": null, "is_tmp": false, "last_comment_time": 1657390858, "likenum": 9, "n_attentions": 9, "n_comments": 3, "pid": 80667, "poll": null, "reply": 3, "text": "为方便更多人搭建，树洞现已发布docker，使用\n``` shell\ndocker pull holethu/hole-backend-rust:1.2.0\n```\n\n\n即可获取。\n\n> \n\n> \n\n> \n\n此外已提供基于docker-compose的部署方式，可不必安装/避免影响posgresql、redis等。\n以下是使用docker-compose运行新T树洞的完整命令：\n\n```shell\nmkdir hole\ncd hole\n\n# 下载docker-compose.yml\nwget https://git.thu.monster/newthuhole/hole-backend-rust/raw/branch/master/docker-compose.yml\n\n# 下载add_pg_trgm.sh\nmkdir psql-docker-init\nwget https://git.thu.monster/newthuhole/hole-backend-rust/raw/branch/master/psql-docker-init/add_pg_trgm.sh -O psql-docker-init/add_pg_trgm.sh \n\n\n#下载镜像\ndocker-compose pull\n# 初始化postgres\ndocker-compose up -d postgres\n\n#建表\ndocker-compose run --rm hole-thu hole-thu --init-database  \n\n# 全部跑起来\ndocker-compose up -d\n```\n\n现在树洞后端应该已经运行在8000端口了。", "timestamp": 1657389451}}